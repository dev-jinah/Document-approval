# 데이터베이스 설계

## document (문서 테이블)

### id (문서 ID)
- **타입**: int
- **설명**: 고유 식별자로 사용되는 문서 테이블의 주요 키(primary key) 컬럼입니다. 자동으로 증가하는 값을 가지며, 각 문서의 고유한 식별자 역할을 합니다.

### title (문서 제목)
- **타입**: varchar(255)
- **설명**: 문서의 제목을 나타내는 컬럼입니다.

### category (문서 분류)
- **타입**: varchar(50)
- **설명**: 문서의 분류를 나타내는 컬럼입니다.

### content (문서 내용)
- **타입**: text
- **설명**: 문서의 내용을 나타내는 긴 텍스트 필드로, 문서의 내용을 자세하게 저장할 수 있도록 TEXT 타입을 사용합니다.

### create_time (문서 생성 일시)
- **타입**: datetime
- **설명**: 문서 생성이 이루어진 일시를 저장하는 컬럼입니다.

---

## approval_request (결재 신청 테이블)

### id (결재 신청 ID)
- **타입**: int
- **설명**: 고유 식별자로 사용되는 결재 신청 테이블의 주요 키(primary key) 컬럼입니다. 자동으로 증가하는 값을 가지며, 각 결재 신청의 고유한 식별자 역할을 합니다.

### status (결재 신청 상태)
- **타입**: tinyint
- **설명**: 결재 신청 상태를 대기(0), 진행(1), 승인(2), 반려(3)로 숫자로 나타냅니다. (default: 대기(0) / 최종 처리가 완료되면 승인(2) 또는 반려(3)로 설정됩니다.)

### document_id (문서 ID)
- **타입**: int
- **설명**: 결재 신청 문서를 식별하는 외래 키 (Foreign Key). 문서 테이블의 `id` 와 연관됩니다.

### user_id (결재 신청 사용자 ID)
- **타입**: int
- **설명**: 결재를 신청한 사용자를 식별하는 외래 키 (Foreign Key). 사용자 테이블의 `id` 와 연관됩니다.

---

## approval_status (결재 상황 테이블)

### approval_request_id (결재신청 ID FK)
- **타입**: int
- **설명**: 결재 신청을 식별하는 외래 키 (Foreign Key). 결재 신청 테이블의 `id` 와 관련 있습니다.

### user_id (사용자 ID FK)
- **타입**: int
- **설명**: 결재를 수행하는 사용자를 식별하는 외래 키 (Foreign Key). 사용자 테이블의 `id` 와 관련 있습니다.

### step (결재 단계)
- **타입**: int
- **설명**: 결재 단계를 숫자로 표현합니다 (예: 1차 결재, 2차 결재 등).

### reason (결재 사유)
- **타입**: varchar(255)
- **설명**: 결재 처리에 대한 사유 또는 설명을 나타내는 컬럼입니다.

### status (결재 상태)
- **타입**: tinyint
- **설명**: 결재의 최종 상태를 나타내며, 승인(2), 반려(3)로 설정됩니다. (default: null)

### update_time (결재 일시)
- **타입**: datetime
- **설명**: 결재가 실제로 이루어진 일시를 저장하는 컬럼입니다.

---

## user (사용자 테이블)

### id (사용자 ID)
- **타입**: int
- **설명**: 고유 식별자로 사용되는 사용자 테이블의 주요 키(primary key) 컬럼입니다. 자동으로 증가하는 값을 가지며, 각 사용자의 고유한 식별자 역할을 합니다.

### name (사용자 이름)
- **타입**: varchar(100)
- **설명**: 사용자의 실제 이름 또는 닉네임으로, 사용자의 고유 아이디로 로그인 시 사용되며 중복되지 않아야 합니다.

### password (비밀번호)
- **타입**: varchar(255)
- **설명**: 보안을 위해 비밀번호는 암호화된 형태로 저장합니다.

---

## api_key (API Key 테이블)

### id (API Key ID)
- **타입**: int
- **설명**: 고유 식별자로 사용되는 API Key 테이블의 주요 키(primary key) 컬럼입니다. 자동으로 증가하는 값을 가지며, 각 API 키의 고유한 식별자 역할을 합니다.

### name (클라이언트 이름)
- **타입**: varchar(100)
- **설명**: API Key를 사용하는 클라이언트의 이름입니다. 예: "admin-service", "partner-app" 등.

### key (API Key 값)
- **타입**: varchar(255)
- **설명**: 실제 API Key 값입니다. 유일(unique)해야 하며, 인증 시 사용됩니다.

### active (활성 상태)
- **타입**: boolean
- **설명**: API Key의 활성화 여부를 나타냅니다. true일 경우 활성 상태입니다.

### created_at (생성 일시)
- **타입**: datetime
- **설명**: API Key가 생성된 시각을 나타냅니다.

### expires_at (만료 일시)
- **타입**: datetime (nullable)
- **설명**: API Key의 만료 일시를 나타냅니다. 값이 null일 경우 만료일 없음으로 간주됩니다.
